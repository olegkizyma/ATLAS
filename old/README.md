# ATLAS Frontend v2.0 - –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–Ω–∏–π —Ä–µ—Ñ–∞–∫—Ç–æ—Ä—ñ–Ω–≥

## üéØ –ú–µ—Ç–∞
–ü–æ–≤–Ω–∏–π —Ä–µ—Ñ–∞–∫—Ç–æ—Ä—ñ–Ω–≥ –≤–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É ATLAS –¥–ª—è –≤–∏—Ä—ñ—à–µ–Ω–Ω—è –ø—Ä–æ–±–ª–µ–º:
- ‚ùå –ë–ª–æ–∫—É–≤–∞–Ω–Ω—è –ø–æ–ª—è –≤–≤–æ–¥—É ("–∑–∞–±–ª–æ–∫–æ–≤–∞–Ω–æ")
- ‚ùå –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω—ñ –ø–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É ("–ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞—î—Ç—å—Å—è —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å")
- ‚ùå –ú–æ–Ω–æ–ª—ñ—Ç–Ω–∞ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞

## üèóÔ∏è –ù–æ–≤–∞ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª—ñ–≤
```
frontend_new/
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îú‚îÄ‚îÄ static/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ js/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ app.js              # –ì–æ–ª–æ–≤–Ω–∏–π –∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ chat-manager.js     # –ú–µ–Ω–µ–¥–∂–µ—Ä —á–∞—Ç—É –±–µ–∑ –±–ª–æ–∫—É–≤–∞–Ω–Ω—è
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ logger-manager.js   # –ú–µ–Ω–µ–¥–∂–µ—Ä –ª–æ–≥—ñ–≤ –±–µ–∑ —Å–ø–∞–º—É
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ status-manager.js   # –ú–µ–Ω–µ–¥–∂–µ—Ä —Å—Ç–∞—Ç—É—Å—É —Å–∏—Å—Ç–µ–º–∏
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ service-worker.js   # –ö–µ—à—É–≤–∞–Ω–Ω—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ css/
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ main.css           # CSS –∑ –∑–º—ñ–Ω–Ω–∏–º–∏
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ assets/                # –Ü–∫–æ–Ω–∫–∏, –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è
‚îÇ   ‚îú‚îÄ‚îÄ templates/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ index.html             # –ß–∏—Å—Ç–∏–π HTML —à–∞–±–ª–æ–Ω
‚îÇ   ‚îú‚îÄ‚îÄ api/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ atlas_api.py           # API –µ–Ω–¥–ø–æ–π–Ω—Ç–∏
‚îÇ   ‚îú‚îÄ‚îÄ core/                      # –°–µ—Ä–≤–µ—Ä–Ω—ñ –º–æ–¥—É–ª—ñ
‚îÇ   ‚îî‚îÄ‚îÄ atlas_server.py            # –ì–æ–ª–æ–≤–Ω–∏–π —Å–µ—Ä–≤–µ—Ä
‚îú‚îÄ‚îÄ config/
‚îÇ   ‚îî‚îÄ‚îÄ .env                       # –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è
‚îî‚îÄ‚îÄ README.md                      # –¶–µ–π —Ñ–∞–π–ª
```

## üîß –ö–ª—é—á–æ–≤—ñ –æ—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ v2.0

### 1. –ú–æ–¥—É–ª—å–Ω–∞ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ JavaScript
- **AtlasApp**: –ì–æ–ª–æ–≤–Ω–∏–π –∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä –¥–æ–¥–∞—Ç–∫—É
- **AtlasChatManager**: –û–±—Ä–æ–±–∫–∞ —á–∞—Ç—É –±–µ–∑ –±–ª–æ–∫—É–≤–∞–Ω–Ω—è input
- **AtlasLogger**: –õ–æ–≥–∏ –±–µ–∑ —Å–ø–∞–º—É (—ñ–Ω—Ç–µ—Ä–≤–∞–ª 3 —Å–µ–∫)
- **AtlasStatusManager**: –í—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è —Å—Ç–∞—Ç—É—Å—É —Å–∏—Å—Ç–µ–º–∏

### 2. –ó–∞—Ö–∏—Å—Ç –≤—ñ–¥ –ø–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω—å
- –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ü–∏–∫–ª—ñ–≤ –ø–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω—å (sessionStorage)
- –ó–∞—Ö–∏—Å—Ç –ø—ñ–¥ —á–∞—Å —Å—Ç—Ä—ñ–º—ñ–Ω–≥—É
- –ó–∞—Ö–∏—Å—Ç –ø–µ—Ä—à–∏—Ö 10 —Å–µ–∫—É–Ω–¥ –ø—ñ—Å–ª—è –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è
- beforeunload –æ–±—Ä–æ–±–Ω–∏–∫

### 3. SSE Streaming API
- Server-Sent Events –¥–ª—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ —á–∞—Å—É
- –ì–∞—Ä–∞–Ω—Ç–æ–≤–∞–Ω–∞ –¥–æ—Å—Ç–∞–≤–∫–∞ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å
- –¢–∞–π–º–∞—É—Ç–∏ —Ç–∞ heartbeat
- –û—á–∏—â–µ–Ω–Ω—è —Ä–µ—Å—É—Ä—Å—ñ–≤

### 4. CSS Architecture
- CSS –∑–º—ñ–Ω–Ω—ñ –¥–ª—è —Ç–µ–º–∏
- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω–∏–π –ø—ñ–¥—Ö—ñ–¥
- Responsive –¥–∏–∑–∞–π–Ω
- Proper reset/normalize

## üöÄ –ó–∞–ø—É—Å–∫

### –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç
```bash
# –ó –∫–æ—Ä–µ–Ω–µ–≤–æ—ó –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—ó ATLAS:
./start_atlas_v2.sh
```

### –†—É—á–Ω–∏–π –∑–∞–ø—É—Å–∫
```bash
cd frontend_new/app
python atlas_server.py
```

### –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è
- **Host**: `ATLAS_HOST=127.0.0.1`
- **Port**: `ATLAS_PORT=5001` (–Ω–æ–≤–∏–π –ø–æ—Ä—Ç!)
- **Debug**: `ATLAS_DEBUG=false`

## üîå API Endpoints

- `GET /` - –ì–æ–ª–æ–≤–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞
- `GET /api/status` - –°—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º–∏
- `POST /api/chat` - –ù–∞–¥—ñ—Å–ª–∞—Ç–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
- `GET /api/stream/<response_id>` - SSE —Å—Ç—Ä—ñ–º
- `GET /api/logs` - –°–∏—Å—Ç–µ–º–Ω—ñ –ª–æ–≥–∏
- `GET /health` - Health check

## üõ†Ô∏è –¢–µ—Ö–Ω—ñ—á–Ω—ñ –¥–µ—Ç–∞–ª—ñ

### JavaScript Modules
```javascript
// –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è
const atlasApp = new AtlasApp();

// –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è
atlasApp.sendMessage("Hello");
console.log(atlasApp.getStatus());
```

### CSS Variables
```css
:root {
    --atlas-primary: #007acc;
    --atlas-bg: #1e1e1e;
    --atlas-text: #ffffff;
}
```

### SSE Stream
```javascript
const eventSource = new EventSource('/api/stream/resp_123');
eventSource.onmessage = (event) => {
    const data = JSON.parse(event.data);
    console.log('Stream data:', data);
};
```

## üîç –í—ñ–¥–º—ñ–Ω–Ω–æ—Å—Ç—ñ –≤—ñ–¥ v1.0

| –ê—Å–ø–µ–∫—Ç | v1.0 (frontend/) | v2.0 (frontend_new/) |
|--------|------------------|---------------------|
| –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ | –ú–æ–Ω–æ–ª—ñ—Ç–Ω–∞ | –ú–æ–¥—É–ª—å–Ω–∞ MVC |
| JavaScript | –û–¥–∏–Ω —Ñ–∞–π–ª | –û–∫—Ä–µ–º—ñ –º–µ–Ω–µ–¥–∂–µ—Ä–∏ |
| CSS | Inline —Å—Ç–∏–ª—ñ | CSS –∑–º—ñ–Ω–Ω—ñ |
| API | –ó–º—ñ—à–∞–Ω—ñ –µ–Ω–¥–ø–æ–π–Ω—Ç–∏ | –ß–∏—Å—Ç–∏–π REST API |
| –°—Ç—Ä—ñ–º—ñ–Ω–≥ | WebSocket | Server-Sent Events |
| –ö–µ—à—É–≤–∞–Ω–Ω—è | –í—ñ–¥—Å—É—Ç–Ω—î | Service Worker |
| –ó–∞—Ö–∏—Å—Ç | –í—ñ–¥—Å—É—Ç–Ω—ñ–π | –ú–Ω–æ–∂–∏–Ω–Ω–∏–π –∑–∞—Ö–∏—Å—Ç |

## üêõ –í–∏—Ä—ñ—à–µ–Ω—ñ –ø—Ä–æ–±–ª–µ–º–∏

### ‚ùå Input blocking ("–∑–∞–±–ª–æ–∫–æ–≤–∞–Ω–æ")
- **–ü—Ä–∏—á–∏–Ω–∞**: –ù–µ —Å–∫–∏–¥–∞–≤—Å—è disabled —Å—Ç–∞–Ω input
- **–†—ñ—à–µ–Ω–Ω—è**: –ì–∞—Ä–∞–Ω—Ç–æ–≤–∞–Ω—ñ setTimeout —Ç–∞ –º–Ω–æ–∂–∏–Ω–Ω—ñ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏
- **–§–∞–π–ª**: `chat-manager.js` ‚Üí `setInputState()`

### ‚ùå Auto refresh ("–ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞—î—Ç—å—Å—è —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å")
- **–ü—Ä–∏—á–∏–Ω–∞**: –¶–∏–∫–ª–∏ –ø–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω—å —Ç–∞ –ø–æ–º–∏–ª–∫–∏
- **–†—ñ—à–µ–Ω–Ω—è**: beforeunload –∑–∞—Ö–∏—Å—Ç —Ç–∞ sessionStorage —Ç—Ä–µ–∫—ñ–Ω–≥
- **–§–∞–π–ª**: `app.js` ‚Üí `setupReloadProtection()`

### ‚ùå Log spam
- **–ü—Ä–∏—á–∏–Ω–∞**: –ó–∞–Ω–∞–¥—Ç–æ —á–∞—Å—Ç—ñ –∑–∞–ø–∏—Ç–∏ –ª–æ–≥—ñ–≤
- **–†—ñ—à–µ–Ω–Ω—è**: –Ü–Ω—Ç–µ—Ä–≤–∞–ª 3 —Å–µ–∫—É–Ω–¥–∏ –∑–∞–º—ñ—Å—Ç—å –ø–æ—Å—Ç—ñ–π–Ω–∏—Ö –∑–∞–ø–∏—Ç—ñ–≤
- **–§–∞–π–ª**: `logger-manager.js` ‚Üí `startPeriodicRefresh()`

## üß™ –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è

### –õ–æ–∫–∞–ª—å–Ω–µ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è
1. –ó–∞–ø—É—Å—Ç–∏—Ç–∏: `./start_atlas_v2.sh`
2. –í—ñ–¥–∫—Ä–∏—Ç–∏: `http://127.0.0.1:5001`
3. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —â–æ input –Ω–µ –±–ª–æ–∫—É—î—Ç—å—Å—è
4. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —â–æ —Å—Ç–æ—Ä—ñ–Ω–∫–∞ –Ω–µ –ø–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂—É—î—Ç—å—Å—è

### Debug —Ä–µ–∂–∏–º
```bash
ATLAS_DEBUG=true ./start_atlas_v2.sh
```

## üîÑ –ú—ñ–≥—Ä–∞—Ü—ñ—è –∑ v1.0

1. **–ó–±–µ—Ä–µ–≥—Ç–∏ —Å—Ç–∞—Ä–∏–π frontend**: `cp -r frontend frontend_backup`
2. **–ó–∞–ø—É—Å—Ç–∏—Ç–∏ v2.0**: `./start_atlas_v2.sh`
3. **–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å**
4. **–û–Ω–æ–≤–∏—Ç–∏ –∫–æ–Ω—Ñ—ñ–≥**: –ó–∞ –ø–æ—Ç—Ä–µ–±–∏ –∑–º—ñ–Ω–∏—Ç–∏ –ø–æ—Ä—Ç
5. **–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç–∏ –æ—Å–Ω–æ–≤–Ω–∏–π —Å—Ç–∞—Ä—Ç —Å–∫—Ä–∏–ø—Ç**

## üèÜ –ü–µ—Ä–µ–≤–∞–≥–∏ v2.0

- ‚úÖ **–°—Ç–∞–±—ñ–ª—å–Ω—ñ—Å—Ç—å**: –ù–µ–º–∞—î –±–ª–æ–∫—É–≤–∞–Ω—å —Ç–∞ –ø–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω—å  
- ‚úÖ **–®–≤–∏–¥–∫—ñ—Å—Ç—å**: Service Worker –∫–µ—à—É–≤–∞–Ω–Ω—è
- ‚úÖ **Maintainability**: –ú–æ–¥—É–ª—å–Ω–∞ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞
- ‚úÖ **Debugging**: –û–∫—Ä–µ–º—ñ –º–µ–Ω–µ–¥–∂–µ—Ä–∏ –ª–µ–≥—à–µ –Ω–∞–ª–∞–≥–æ–¥–∂—É–≤–∞—Ç–∏
- ‚úÖ **Performance**: –û–ø—Ç–∏–º—ñ–∑–æ–≤–∞–Ω—ñ –∑–∞–ø–∏—Ç–∏ —Ç–∞ —Å—Ç—Ä—ñ–º—ñ–Ω–≥
- ‚úÖ **UX**: –ü–ª–∞–≤–Ω–∞ —Ä–æ–±–æ—Ç–∞ –±–µ–∑ –∑–∞–≤–∏—Å–∞–Ω—å

## üìù TODO

- [ ] –ü–æ–≤–Ω–∞ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ Atlas Core
- [ ] –¢–µ—Å—Ç–∏ –¥–ª—è –≤—Å—ñ—Ö –º–æ–¥—É–ª—ñ–≤  
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è API
- [ ] Performance –º–µ—Ç—Ä–∏–∫–∏
- [ ] Error monitoring
- [ ] Mobile responsive –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è

## üí° –†–æ–∑—Ä–æ–±–∫–∞

### –î–æ–¥–∞–≤–∞–Ω–Ω—è –Ω–æ–≤–æ–≥–æ –º–æ–¥—É–ª—è
1. –°—Ç–≤–æ—Ä–∏—Ç–∏ —Ñ–∞–π–ª –≤ `static/js/`
2. –î–æ–¥–∞—Ç–∏ –∫–ª–∞—Å –∑ –ø—Ä–µ—Ñ—ñ–∫—Å–æ–º `Atlas`
3. –ó–∞—Ä–µ—î—Å—Ç—Ä—É–≤–∞—Ç–∏ –≤ `app.js`
4. –î–æ–¥–∞—Ç–∏ –≤ Service Worker

### –°—Ç–∏–ª—ñ–∑–∞—Ü—ñ—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞  
1. –î–æ–¥–∞—Ç–∏ CSS –≤ `main.css`
2. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ CSS –∑–º—ñ–Ω–Ω—ñ
3. –°–ª—ñ–¥—É–≤–∞—Ç–∏ BEM –º–µ—Ç–æ–¥–æ–ª–æ–≥—ñ—ó

---

**ATLAS Frontend v2.0** - –°—Ç–∞–±—ñ–ª—å–Ω–∏–π, –º–æ–¥—É–ª—å–Ω–∏–π, —à–≤–∏–¥–∫–∏–π! üöÄ
