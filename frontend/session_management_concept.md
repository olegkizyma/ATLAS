# Концепція управління сесіями в Atlas

## Логіка розпізнавання типу запиту:

### 1. НОВЕ ЗАВДАННЯ (створити нову сесію):
- Ключові слова: "відкрий", "знайди", "створи", "почни"
- Повна зміна контексту: відео → музика → документи
- Явне вказування: "нове завдання"

### 2. ПРОДОВЖЕННЯ (використати існуючу сесію):
- Ключові слова: "продовжи", "далі", "також", "тепер"
- Той же контекст: "зроби повний екран", "перемкни на наступне"
- Відсутність нових об'єктів

### 3. АВТОМАТИЧНЕ ВИЗНАЧЕННЯ:
```python
def determine_session_type(message, current_sessions):
    """Визначає тип сесії на основі повідомлення"""
    
    # Ключові слова для НОВОГО завдання
    new_keywords = ["відкрий", "знайди", "створи", "почни", "запусти", "нове"]
    
    # Ключові слова для ПРОДОВЖЕННЯ
    continue_keywords = ["продовжи", "далі", "також", "тепер", "потім", "ще"]
    
    # Перевірка явних вказівок
    if any(word in message.lower() for word in new_keywords):
        return "new_session"
    
    if any(word in message.lower() for word in continue_keywords):
        return "continue_session"
    
    # Контекстний аналіз
    if has_active_browser_session() and is_browser_related(message):
        return "continue_session"
    
    return "new_session"  # За замовчуванням
```

### 4. ІНТЕРФЕЙС КОРИСТУВАЧА:
- Кнопка "Нове завдання" → force new session
- Кнопка "Продовжити" → force continue
- Автоматично → AI визначає

### 5. ЗБЕРЕЖЕННЯ СТАНУ:
- Зберігати активну сесію в localStorage
- Показувати список активних сесій
- Можливість переключення між сесіями
